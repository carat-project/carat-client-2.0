<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: model/SummaryEntry.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: model/SummaryEntry.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import ejs from "ejs";
import {Utilities} from "../helper/Utilities.js";
const fs = require("fs");

var Template = fs.readFileSync(__dirname + "/../template/summaryEntry.ejs", "utf-8");

/**
 * @class SummaryEntry
 * @param {} data Raw data from the server.
 */
class SummaryEntry {

    constructor(data){
        // Prepare and reformat data
        data.label = Utilities.cutLabel(data.label, 6);
        data.benefit = Utilities.splitTimeDrainString(data.benefit).timeDrainPart;
        data.id = Utilities.makeIdFromAppName(data.name, data.type, "entry");
        data.targetId = Utilities.makeIdFromAppName(data.name, data.type);

        this.data = data;

        // Render template
        var html = ejs.render(Template, data);
        this.node = this.createNode(html);
    }

    /**
     * @function
     * @instance
     * @returns {String} The id for the HTML-element
     id field.
     * @memberOf SummaryEntry
     */
    getId() {
        return this.data.id;
    };

    /**
     * @function
     * @instance
     * @returns {String} The id of the item that clicking
     this entry links to.
     * @memberOf SummaryEntry
     */
    getTargetId() {
        return this.data.targetId;
    };

    /**
     * @function
     * @instance
     * @returns {String} What kind of entry this is,
     hog or a bug.
     * @memberOf SummaryEntry
     */
    getType() {
        return this.data.type;
    };

    createNode(html) {
        var node = Utilities.makeDomNode(html);

        var tab;
        if(this.data.type != "HOG" &amp;&amp; this.data.type != "BUG") return node;
        var tabId = this.data.type.toLowerCase() + "s-tab";

        let _this = this;
        node.addEventListener("click", function() {
            document.getElementById(tabId).click();
            window.location.hash = _this.data.targetId;
            var expandId = "card-"+_this.data.targetId+"-textpand";
            var expand = $("#"+expandId);
            if(!expand.hasClass("in")){
                expand.addClass("in");
            }
        });

        return node;
    }

    /**
     * @function
     * @instance
     * @returns {DOM-element} Rendered DOM element
     representing an app featured in the summary.
     * @memberOf SummaryEntry
     */
    render() {
        return this.node;
    };
}

export default SummaryEntry;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="BugCards.html">BugCards</a></li><li><a href="Headerbar.html">Headerbar</a></li><li><a href="HogBug.html">HogBug</a></li><li><a href="HogBugCards.html">HogBugCards</a></li><li><a href="HogCards.html">HogCards</a></li><li><a href="HomeCards.html">HomeCards</a></li><li><a href="InformationDialog.html">InformationDialog</a></li><li><a href="MainContent.html">MainContent</a></li><li><a href="MasterView.html">MasterView</a></li><li><a href="StatsCards.html">StatsCards</a></li><li><a href="SummaryContainer.html">SummaryContainer</a></li><li><a href="SummaryEntry.html">SummaryEntry</a></li></ul><h3>Namespaces</h3><ul><li><a href="Utilities.html">Utilities</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Wed Nov 25 2015 20:56:17 GMT+0200 (FLE Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
